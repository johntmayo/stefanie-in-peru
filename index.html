import React, { useState } from 'react';
import { ChevronLeft, ChevronRight, RotateCcw } from 'lucide-react';

const NazcaLearning = () => {
  const [currentCard, setCurrentCard] = useState(0);
  const [flipped, setFlipped] = useState(false);

  const cards = [
    {
      id: 1,
      title: "What are the Nazca Lines?",
      front: "Discover one of Peru's greatest mysteries",
      back: "The Nazca Lines are over 700 massive geoglyphs etched into the desert floor of southern Peru. Created between 500 BC and 500 AD, these ancient designs were made by removing reddish-brown pebbles to reveal lighter soil beneath.",
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Nazca_colibri.jpg/800px-Nazca_colibri.jpg",
      gradient: "from-amber-500 to-orange-600"
    },
    {
      id: 2,
      title: "How Were They Made?",
      front: "Ancient engineering without aerial view",
      back: "The lines are shallow trenches 10-15 cm deep, created by removing iron oxide-coated pebbles. The exposed lighter clay contains lime which, when moistened by morning mist, hardens to protect against erosion. Simple tools and careful planning were all the Nazca people needed.",
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Nazca-lineas-astronauta-c01.jpg/800px-Nazca-lineas-astronauta-c01.jpg",
      gradient: "from-purple-500 to-pink-600"
    },
    {
      id: 3,
      title: "The Monkey",
      front: "One of the most famous figures",
      back: "The monkey geoglyph measures 93 by 58 meters (305 by 190 feet). Like most Nazca designs, it's drawn with one continuous line. The figure is best viewed from about 500 meters in the air, though it's also visible from surrounding hills.",
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Nazca_monkey.jpg/800px-Nazca_monkey.jpg",
      gradient: "from-green-500 to-teal-600"
    },
    {
      id: 4,
      title: "The Hummingbird",
      front: "A masterpiece of ancient art",
      back: "At 93 meters long, the hummingbird is one of the most recognizable Nazca designs. Its precise geometric form and graceful curves demonstrate the remarkable skill of the ancient artists. Birds are the most frequently depicted animals in the geoglyphs.",
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Nazca_colibri.jpg/800px-Nazca_colibri.jpg",
      gradient: "from-blue-500 to-cyan-600"
    },
    {
      id: 5,
      title: "Incredible Scale",
      front: "How big are these designs?",
      back: "The Nazca Lines cover nearly 450 square kilometers. The largest figures span up to 370 meters. The condor measures 134 meters, the spider 47 meters, and the combined length of all lines exceeds 1,300 kilometers!",
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Nazca_Lines_-_Spider.jpg/800px-Nazca_Lines_-_Spider.jpg",
      gradient: "from-red-500 to-rose-600"
    },
    {
      id: 6,
      title: "Why Were They Created?",
      front: "Multiple theories, ongoing mystery",
      back: "Scholars believe the lines had religious significance. They may have been sacred paths to worship deities associated with water and agriculture, astronomical calendars marking solstices, or symbols meant to invoke divine aid. The true purpose remains debated.",
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Nazca_Lines_-_Whale.jpg/800px-Nazca_Lines_-_Whale.jpg",
      gradient: "from-indigo-500 to-violet-600"
    },
    {
      id: 7,
      title: "Modern Discoveries",
      front: "AI and drones reveal hidden treasures",
      back: "In 2024, researchers using AI discovered 303 new geoglyphs near the Nazca Lines, depicting parrots, cats, monkeys, and killer whales. Drones and machine learning are revolutionizing archaeology, helping find figures that went unnoticed for centuries.",
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/Nazca_cat.jpg/800px-Nazca_cat.jpg",
      gradient: "from-emerald-500 to-green-600"
    },
    {
      id: 8,
      title: "UNESCO World Heritage",
      front: "Protected but threatened",
      back: "Designated as a UNESCO World Heritage Site in 1994, the lines face threats from climate change, erosion, and human activity. Their preservation depends on protecting the dry, windless climate that has kept them intact for over 2,000 years.",
      image: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Nazca_lines%2C_Peru_%28aerial_photo%29.jpg/800px-Nazca_lines%2C_Peru_%28aerial_photo%29.jpg",
      gradient: "from-yellow-500 to-amber-600"
    }
  ];

  const nextCard = () => {
    setFlipped(false);
    setCurrentCard((prev) => (prev + 1) % cards.length);
  };

  const prevCard = () => {
    setFlipped(false);
    setCurrentCard((prev) => (prev - 1 + cards.length) % cards.length);
  };

  const card = cards[currentCard];

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4">
      <div className="w-full max-w-4xl">
        {/* Header */}
        <div className="text-center mb-8">
          <h1 className="text-5xl font-bold text-white mb-2 tracking-tight">
            The Nazca Lines
          </h1>
          <p className="text-purple-200 text-lg">Ancient Mysteries of Peru</p>
          <div className="mt-4 text-purple-300 text-sm">
            Card {currentCard + 1} of {cards.length}
          </div>
        </div>

        {/* Card Container */}
        <div className="perspective-1000">
          <div
            onClick={() => setFlipped(!flipped)}
            className={`relative w-full h-[600px] cursor-pointer transition-transform duration-700 transform-style-3d ${
              flipped ? 'rotate-y-180' : ''
            }`}
          >
            {/* Front of Card */}
            <div className={`absolute w-full h-full backface-hidden ${flipped ? 'invisible' : 'visible'}`}>
              <div className={`h-full rounded-3xl shadow-2xl overflow-hidden bg-gradient-to-br ${card.gradient} p-1`}>
                <div className="h-full bg-slate-900/90 rounded-3xl overflow-hidden flex flex-col">
                  <div className="flex-1 relative">
                    <img
                      src={card.image}
                      alt={card.title}
                      className="w-full h-full object-cover opacity-80"
                    />
                    <div className="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent" />
                  </div>
                  <div className="p-8">
                    <h2 className="text-3xl font-bold text-white mb-3">{card.title}</h2>
                    <p className="text-xl text-purple-200">{card.front}</p>
                    <div className="mt-6 flex items-center justify-center text-purple-300 text-sm animate-pulse">
                      Click to reveal â†’
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {/* Back of Card */}
            <div className={`absolute w-full h-full backface-hidden rotate-y-180 ${flipped ? 'visible' : 'invisible'}`}>
              <div className={`h-full rounded-3xl shadow-2xl overflow-hidden bg-gradient-to-br ${card.gradient} p-1`}>
                <div className="h-full bg-slate-900/95 rounded-3xl overflow-hidden p-8 flex flex-col justify-center">
                  <h2 className="text-4xl font-bold text-white mb-6">{card.title}</h2>
                  <p className="text-xl text-purple-100 leading-relaxed mb-8">
                    {card.back}
                  </p>
                  <div className="flex items-center justify-center text-purple-300 text-sm animate-pulse">
                    Click to flip back
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Navigation */}
        <div className="flex items-center justify-center gap-4 mt-8">
          <button
            onClick={prevCard}
            disabled={currentCard === 0}
            className={`p-4 rounded-full transition-all duration-300 ${
              currentCard === 0
                ? 'bg-slate-700/50 text-slate-500 cursor-not-allowed'
                : 'bg-purple-600 hover:bg-purple-700 text-white hover:scale-110 shadow-lg hover:shadow-purple-500/50'
            }`}
          >
            <ChevronLeft size={24} />
          </button>

          <button
            onClick={() => {
              setCurrentCard(0);
              setFlipped(false);
            }}
            className="p-4 rounded-full bg-slate-700 hover:bg-slate-600 text-white transition-all duration-300 hover:scale-110"
          >
            <RotateCcw size={24} />
          </button>

          <button
            onClick={nextCard}
            disabled={currentCard === cards.length - 1}
            className={`p-4 rounded-full transition-all duration-300 ${
              currentCard === cards.length - 1
                ? 'bg-slate-700/50 text-slate-500 cursor-not-allowed'
                : 'bg-purple-600 hover:bg-purple-700 text-white hover:scale-110 shadow-lg hover:shadow-purple-500/50'
            }`}
          >
            <ChevronRight size={24} />
          </button>
        </div>

        {/* Progress Dots */}
        <div className="flex justify-center gap-2 mt-8">
          {cards.map((_, idx) => (
            <button
              key={idx}
              onClick={() => {
                setCurrentCard(idx);
                setFlipped(false);
              }}
              className={`h-2 rounded-full transition-all duration-300 ${
                idx === currentCard
                  ? 'w-8 bg-purple-500'
                  : 'w-2 bg-slate-600 hover:bg-slate-500'
              }`}
            />
          ))}
        </div>
      </div>

      <style jsx>{`
        .perspective-1000 {
          perspective: 1000px;
        }
        .transform-style-3d {
          transform-style: preserve-3d;
        }
        .backface-hidden {
          backface-visibility: hidden;
        }
        .rotate-y-180 {
          transform: rotateY(180deg);
        }
      `}</style>
    </div>
  );
};

export default NazcaLearning;